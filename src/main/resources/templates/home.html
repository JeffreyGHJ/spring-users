<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<title>Home</title>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
    	  rel="stylesheet" 
    	  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" 
    	  crossorigin="anonymous">
    	
    <!-- Bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

	<!-- My Custom Styles -->
	<link rel="stylesheet" th:href="@{/css/styles.css}">
	
<!-- OLD HEADER STUFF -->
<!-- 	<meta charset="utf-8"> -->
<!-- 	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
<!-- 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
<!-- 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script> -->
<!-- 	<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

</head>


<body class="body-dark body-color-white"><!-- style="background-color: #212121; color: white"> -->

<div class="container">

	<!-- Top Bar -->
	<div class="top-bar">
		<div>
			<h2>User Directory</h2>
		</div>
		
		<form action="#" th:action="@{/logout}" 
				   method="POST">
			<input type="submit" value="Logout" class="btn btn-outline-primary mb-2" />
		</form>
	</div>
	
	<hr>
	
	
	<!-- TO-DO: User Profile Card -->
	<div class="user-profile-card">
	
		<!-- user profile image -->
		<div class="bordered user-avatar">
			<i class="bi bi-person"></i>
		</div>
		
		<!-- user profile data -->
		<div sec:authorize="!hasAuthority('ROLE_ADMIN')" class="user-profile-data bordered">
			<table>
				<tbody>
					<tr>
						<td class="user-data-row-1">First Name:</td><td sec:authentication="principal.firstName" />
					</tr>
					<tr>
						<td class="user-data-row-1">Last Name:</td><td sec:authentication="principal.lastName" />
					</tr>
					<tr>
						<td class="user-data-row-1">Email:</td><td sec:authentication="principal.email" />
					</tr>
					<tr>
						<td class="user-data-row-1">Username:</td><td sec:authentication="principal.username" />
					</tr>
				</tbody>
			</table>
		</div>
	
	</div>
	<hr>
	
	<div>
		<h3>Site Links:</h3>
		<a href="/users/list"><h4>User List</h4></a>
		<hr>
	</div>
	
	
	<div> 
		<h3 class="mb-0">REST endpoints:</h3>
<!-- 		<h8>(full C.R.U.D. support)</h8> -->
		<br>
		
		<div style="padding : 1rem;" class="bordered">
			<table>
				<thead>
					<tr>
						<th style="text-align: center;">Action</th>
						<th style="text-align: center;">Method</th>
						<th style="text-align: center;">URL</th>
						<th style="text-align: center;">Request Parameters</th>
					</tr>
				</thead>
				
				<tbody>
					<tr>
						<td>Create User</td>
						<td style="text-align: end;"><span class="badge rounded-pill bg-success">POST</span></td>
						<td><span class="badge rounded-pill bg-warning text-dark">.../api/users</span></td>
						<td style="text-align: center;"><span class="badge rounded-pill bg-info text-dark">firstName, lastName, email, username, password, confirmPassword</span></td>
					</tr>
					<tr>
						<td>Read Users</td>
						<td style="text-align: end;"><span class="badge rounded-pill bg-success">GET</span></td>
						<td><a href="/api/users"><span class="badge rounded-pill bg-warning text-dark">.../api/users</span></a></td>
						<td style="text-align: center;"><span class="badge rounded-pill bg-info text-dark">[none]</span></td>
					</tr>
					<tr>
						<td>Read User</td>
						<td style="text-align: end;"><span class="badge rounded-pill bg-success">GET</span></td>
						<td><span class="badge rounded-pill bg-warning text-dark">.../api/users/{userId}</span></td>
						<td style="text-align: center;"><span class="badge rounded-pill bg-info text-dark">[none]</span></td>
					</tr>
					<tr>
						<td>Update User</td>
						<td style="text-align: end;"><span class="badge rounded-pill bg-success">PUT</span></td>
						<td><span class="badge rounded-pill bg-warning text-dark">.../api/users</span></td>
						<td style="text-align: center;"><span class="badge rounded-pill bg-info text-dark">id, firstName, lastName, username</span></td>
					</tr>
					<tr>
						<td>Delete User</td>
						<td style="text-align: end;"><span class="badge rounded-pill bg-success">DELETE</span></td>
						<td><span class="badge rounded-pill bg-warning text-dark">.../api/users/{userId}</span></td>
						<td style="text-align: center;"><span class="badge rounded-pill bg-info text-dark">password</span></td>
					</tr>
				</tbody>
			</table>
		</div>
		<hr>
	</div>
		
</div>
	
</body>

</html>